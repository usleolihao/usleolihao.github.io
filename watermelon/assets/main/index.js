window.__require=function e(t,o,r){function i(c,n){if(!o[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!n&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var d=o[c]={exports:{}};t[c][0].call(d.exports,function(e){return i(t[c][1][e]||e)},d,d.exports,e,t,o,r)}return o[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<r.length;c++)i(r[c]);return i}({NumberPrefab:[function(e,t){"use strict";cc._RF.push(t,"595d8M5C8BGM4VWR1pig961","NumberPrefab"),cc.Class({extends:cc.Component,properties:{spriteframe:[cc.SpriteFrame]},start:function(){}}),cc._RF.pop()},{}],WetermelonPrefab:[function(e,t){"use strict";cc._RF.push(t,"21751hH5SdN+qxmpJTm9JGt","WetermelonPrefab"),cc.Class({extends:cc.Component,properties:{spriteframe:[cc.SpriteFrame],type:cc.Integer,PrefabWatermelon:cc.Prefab,BoomFrame:[cc.SpriteFrame]},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.changeType(window.WETERMELON_TYPE)},start:function(){},changeType:function(e){this.type=e>10?10:e,e=this.type,this.sprite=this.node.getComponent(cc.Sprite),this.sprite.spriteFrame=this.spriteframe[e],this.physicsCircleCollider=this.node.getComponent(cc.PhysicsCircleCollider),this.circleCollider=this.node.getComponent(cc.CircleCollider),this.circleCollider.tag=e-1,0==e?(this.physicsCircleCollider.radius=27,this.circleCollider.radius=32):1==e?(this.physicsCircleCollider.radius=40,this.circleCollider.radius=45):2==e?(this.physicsCircleCollider.radius=55,this.circleCollider.radius=60):3==e?(this.physicsCircleCollider.radius=61,this.circleCollider.radius=66):4==e?(this.physicsCircleCollider.radius=77,this.circleCollider.radius=82):5==e?(this.physicsCircleCollider.radius=93,this.circleCollider.radius=98):6==e?(this.physicsCircleCollider.radius=94,this.circleCollider.radius=99):7==e?(this.physicsCircleCollider.radius=130,this.circleCollider.radius=135):8==e?(this.physicsCircleCollider.radius=155,this.circleCollider.radius=160):9==e?(this.physicsCircleCollider.radius=152,this.circleCollider.radius=157):10==e&&(this.physicsCircleCollider.radius=203,this.circleCollider.radius=208),this.node.getComponent(cc.PhysicsCircleCollider).apply()},onCollisionEnter:function(e,t){if(e.tag==t.tag&&10!=e.tag){if(!(t.node.y<e.node.y))return void this.node.destroy();e.node.destroy(),this.watermelonBoom(t.tag+1)}else if(e.tag==t.tag&&10==e.tag&&10==t.tag){if(!(t.node.y<e.node.y))return void this.node.destroy();e.node.destroy(),this.watermelonBoom(t.tag)}},onCollisionStay:function(e,t){if(e.tag==t.tag&&10!=e.tag){if(!(t.node.y<e.node.y))return void this.node.destroy();e.node.destroy(),this.watermelonBoom(t.tag+1)}else if(e.tag==t.tag&&10==e.tag&&10==t.tag){if(!(t.node.y<e.node.y))return void this.node.destroy();e.node.destroy(),this.watermelonBoom(t.tag)}},watermelonBoom:function(e){this.node.getComponent(cc.AudioSource).play(),this.sprite=this.node.getComponent(cc.Sprite),this.sprite.spriteFrame=this.BoomFrame[e],this.physicsCircleCollider=this.node.getComponent(cc.PhysicsCircleCollider),this.circleCollider=this.node.getComponent(cc.CircleCollider),this.circleCollider.tag=e,this.node.getComponent(cc.PhysicsCircleCollider).apply(),this.scheduleOnce(function(){e<10?this.changeType(e+1):this.scheduleOnce(function(){this.node.destroy()},.3),window.SCORE+=2*(e+1),console.log("\u5f97\u5206",window.SCORE)},.4)},deathGame:function(){(null==cc.sys.localStorage.getItem("score")||cc.sys.localStorage.getItem("score")<window.SCORE)&&cc.sys.localStorage.setItem("scoew",window.SCORE)}}),cc._RF.pop()},{}],death:[function(e,t){"use strict";cc._RF.push(t,"bba47YRMrVPVafh+33Bkbrh","death"),cc.Class({extends:cc.Component,properties:{DeathNode:cc.Node,Backgarournd:cc.Node},onLoad:function(){cc.director.getPhysicsManager().enabled=!0},start:function(){this.death_s=0,this.death=!1},onCollisionEnter:function(){var e=new Date;this.death_s=e.getTime(),console.log("\u89e6\u78b0\u6b7b\u4ea1\u7ebf,\u8bb0\u5f55\u65f6\u95f4",this.death_s)},onCollisionStay:function(){if(!this.death){var e=new Date;this.death_e=e.getTime();var t=this.death_e-this.death_s;parseInt(t/1e3)>0&&console.log("CollisionStay\u6b7b\u4ea1\u65f6\u95f4",t/1e3),parseInt(t/1e3)>3&&(cc.sys.localStorage.getItem("score")<window.SCORE&&cc.sys.localStorage.setItem("score",window.SCORE),this.DeathNode.setPosition(cc.v2(0,0)),this.Backgarournd.off("touchstart",this.WatermelonDown,this),this.death=!0)}},onCollisionExit:function(){console.log("\u79bb\u5f00\u6b7b\u4ea1\u7ebf"),this.death=!1}}),cc._RF.pop()},{}],game:[function(e,t){"use strict";cc._RF.push(t,"c5236QgPTNMCoC8ejimk3LN","game"),cc.Class({extends:cc.Component,properties:{PrefabWatermelon:cc.Prefab,typeNode:cc.Node,spriteframe:[cc.SpriteFrame]},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1e3),cc.director.getCollisionManager().enabled=!0,this.node.on("touchstart",this.WatermelonDown,this),this.IsWatermelonDown=!0,window.BACKGROUND_NODE=this.node},start:function(){this.refresh_count=0},onDestroy:function(){this.node.off("touchstart",this.WatermelonDown,this)},WatermelonDown:function(e){if(this.IsWatermelonDown){this.IsWatermelonDown=!1,this.scheduleOnce(function(){this.IsWatermelonDown=!0},1);var t=cc.instantiate(this.PrefabWatermelon),o=e.getLocationX()-360;this.circleCollider=t.getComponent(cc.CircleCollider);var r=490-2*this.circleCollider.radius;t.setPosition(cc.v2(o,r)),this.node.addChild(t),window.WETERMELON_ARRAY.push(t),window.WETERMELON_TYPE=Math.floor(5*Math.random()),this.sprite=this.typeNode.getComponent(cc.Sprite),this.sprite.spriteFrame=this.spriteframe[window.WETERMELON_TYPE]}},goMainWindow:function(){cc.sys.localStorage.getItem("score")<window.SCORE&&cc.sys.localStorage.setItem("score",window.SCORE),cc.director.loadScene("main_scene")},changeFruit:function(){if(!(window.SCORE<=0)){for(var e=0,t=Math.floor(5*Math.random());window.WETERMELON_TYPE==t;)t=Math.floor(5*Math.random()),e++;window.WETERMELON_TYPE=t,e>1&&(window.WETERMELON_TYPE=10,console.log("\u51fa\u73b0\u5e78\u8fd0\u5927\u897f\u74dc")),this.sprite=this.typeNode.getComponent(cc.Sprite),this.sprite.spriteFrame=this.spriteframe[window.WETERMELON_TYPE],this.refresh_count++,window.SCORE--,console.log("\u5237\u65b0\u6c34\u679c\u6b21\u6570:",this.refresh_count)}},againGame:function(){window.SCORE=0,window.WETERMELON_TYPE=0,this.refresh_count=0,this.node.on("touchstart",this.WatermelonDown,this),cc.director.loadScene("game_scene"),cc.sys.localStorage.getItem("score")<window.SCORE&&cc.sys.localStorage.setItem("score",window.SCORE)}}),cc._RF.pop()},{}],main:[function(e,t){"use strict";cc._RF.push(t,"b9467PEcvROIp0lo0hllfoS","main"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){null==cc.sys.localStorage.getItem("score")?(console.log("\u65e0\u6700\u9ad8\u5f97\u5206"),cc.sys.localStorage.setItem("score",window.SCORE),console.log(cc.sys.localStorage.getItem("score"))):console.log("\u6700\u9ad8\u5f97\u5206",cc.sys.localStorage.getItem("score"))},start:function(){},startGame:function(){cc.director.loadScene("game_scene")},exitGame:function(){cc.game.end()}}),cc._RF.pop()},{}],maxScore:[function(e,t){"use strict";cc._RF.push(t,"6f5cem0KQ1O2IUK7B7m9Q+O","maxScore"),cc.Class({extends:cc.Component,properties:{NumberPrefab:cc.Prefab,Numberframe:[cc.SpriteFrame]},start:function(){var e=cc.sys.localStorage.getItem("score");this.setScorenumber(e)},setScorenumber:function(e){this.node.removeAllChildren(),this.numberArray=[];var t=Math.floor(e);do{var o=cc.instantiate(this.NumberPrefab);o.getComponent(cc.Sprite).spriteFrame=this.Numberframe[Math.floor(t%10)],this.numberArray.push(o),t=Math.floor(t/10)}while(t>0);this.numberArray.reverse();for(var r=0;r<this.numberArray.length;r++)this.numberArray[r].setPosition(cc.v2(42*r,0)),this.node.addChild(this.numberArray[r])}}),cc._RF.pop()},{}],score:[function(e,t){"use strict";cc._RF.push(t,"3d4c0cc0t9Ls7DRFrVFvKbo","score"),cc.Class({extends:cc.Component,properties:{NumberPrefab:cc.Prefab,Numberframe:[cc.SpriteFrame]},onLoad:function(){this.updataScore()},start:function(){},updataScore:function(){this.mytime=setInterval(this.setScorenumber.bind(this),500)},onDestroy:function(){clearInterval(this.mytime)},setScorenumber:function(){this.node.removeAllChildren(),this.numberArray=[];var e=Math.floor(window.SCORE);do{var t=cc.instantiate(this.NumberPrefab);t.getComponent(cc.Sprite).spriteFrame=this.Numberframe[Math.floor(e%10)],this.numberArray.push(t),e=Math.floor(e/10)}while(e>0);this.numberArray.reverse();for(var o=0;o<this.numberArray.length;o++)this.numberArray[o].setPosition(cc.v2(42*o,0)),this.node.addChild(this.numberArray[o])}}),cc._RF.pop()},{}],use_reversed_rotateBy:[function(e,t){"use strict";cc._RF.push(t,"4786cX25HNCs6wGJAvSfkN7","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}]},{},["use_reversed_rotateBy","NumberPrefab","WetermelonPrefab","death","game","main","maxScore","score"]);